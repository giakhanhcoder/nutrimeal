<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gio hang</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <style>
      /* .banner img {
        width: 100%; 
        height: 400px; 
        display: block;
      }
      .banner {
        position: relative;
        z-index: 1;
      } */
      .card-table {
        position: absolute;
        /* top: 350px; */
        left: 4%;
        transform: translateX(-50%);
        z-index: 2;
        background: rgba(255, 255, 255); /* Add some opacity */
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(48, 46, 46, 0.5);
        width: 90%; /* Adjust width as needed */
      }
      .card-table-header {
        text-align: center;
        font-size: 30px;
      }
      table {
        width: 100%;
        border-spacing: 0 20px;
      }
      table tbody {
        background-color: rgb(255, 255, 255);
      }
      table thead {
        background-color: black;
        color: #ececec;
      }
      table tr {
        border-radius: 3px;
        box-shadow: 0 0 2px rgba(48, 46, 46, 0.5);
      }
      table th,
      td {
        text-align: start;
        font-size: 20px;
        padding: 15px;
      }

      .card-contain-button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 30px; /* Kích thước chiều rộng của ô vuông */
        height: 30px; /* Kích thước chiều cao của ô vuông */
      }
      .card-contain-button input,
      .card-total-price-button input {
        width: 20px; /* Kích thước chiều rộng của checkbox */
        height: 20px; /* Kích thước chiều cao của checkbox */
        border: 2px solid #333; /* Đường viền của checkbox */
        border-radius: 4px; /* Đường cong viền của checkbox */
        outline: none; /* Loại bỏ đường viền xung quanh checkbox khi focus */
        accent-color: red;
      }
      .card-product {
        display: flex;
        align-items: center;
        width: 100%;
      }
      .card-product img {
        width: 80px;
        height: 80px;
        border-radius: 5px;
      }
      .card-product img:hover {
        transform: scale(1.2);
      }
      .card-product-name {
        width: 100%;
        font-size: 20px;
        padding: 20px;
        font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
          "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
      }
      .card-quantity {
        display: flex;
      }
      .card-quantity input {
        width: 20px;
      }
      .card-quantity button {
        width: 20px;
        height: 20px;
        outline: none;
        background: none;
        border: 1px solid #cbc0c0;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }
      .card-quantity button:hover {
        background-color: #ececec;
      }
      .card-activity i {
        font-size: 30px;
      }
      .card-activity i:hover {
        font-size: 40px;
      }
      #amount {
        width: 40px;
        text-align: center;
        border: 1px solid #cbc0c0;
      }
      .card-total-price {
        display: flex;
        background-color: rgb(255, 255, 255);
        justify-content: flex-end;
        align-items: center;
        position: sticky;
        bottom: 0;
      }
      .cart-summary {
        display: flex;
        margin: 20px;
      }
      .card-total-price button {
        width: 20%;
        height: 50px;
        margin: 20px;
        border-radius: 10px;
        background-color: red;
        color: #ececec;
        font-size: 25px;
        border: none;
      }
      .cart-summary h1 {
        margin: 20px;
        color: orangered;
        font-size: 30px;
        font-family: "Franklin Gothic Medium", "Arial Narrow", Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <!-- <section class="banner">
      <img
        src="https://png.pngtree.com/background/20220714/original/pngtree-flash-sale-40-percent-off-wide-banner-background-picture-image_1608159.jpg"
      />
    </section> -->
    <main
      class="card-table"
      data-aos="fade-up"
      data-aos-duration="1400"
      data-aos-delay="400"
    >
      <section class="card-table-header">
        <h1>Giỏ hàng</h1>
      </section>
      <section class="card-table-body">
        <table>
          <thead>
            <tr>
              <th>
                <div class="card-contain-button">
                  <label for="all">
                    <input
                      type="checkbox"
                      id="all"
                      name="all"
                      value=""
                      onclick="checkAll()"
                    />
                  </label>
                </div>
              </th>
              <th><div class="card-product">Sản phẩm</div></th>
              <th><div class="card-price">Đơn giá</div></th>
              <th><div class="card-quantity">Số lượng</div></th>
              <th><div class="card-totalmoney">Số tiền</div></th>
              <th><div class="card-activity">Thao tác</div></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div class="card-contain-button">
                  <label for="product">
                    <input
                      type="checkbox"
                      id="product"
                      name="product"
                      value=""
                    />
                  </label>
                </div>
              </td>
              <td>
                <div class="card-product">
                  <img
                    src="https://lavenderstudio.com.vn/wp-content/uploads/2017/03/chup-san-pham.jpg"
                  />
                  <div class="card-product-name">card-product-name</div>
                </div>
              </td>
              <td>
                <div class="card-price">5000000</div>
              </td>
              <td>
                <div class="card-quantity">
                  <button class="minus-btn" onclick="handleMinus(event)">
                    <i class="bi bi-dash-lg"></i>
                  </button>
                  <input type="text" name="amount" id="amount" value="1" />
                  <button class="plus-btn" onclick="handlePlus(event)">
                    <i class="bi bi-plus-lg"></i>
                  </button>
                </div>
              </td>
              <td><div class="card-totalmoney">Số tiền</div></td>
              <td>
                <div class="card-activity">
                  <a><i class="bi bi-trash3-fill"></i></a>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="card-contain-button">
                  <label for="product">
                    <input
                      type="checkbox"
                      id="product"
                      name="product"
                      value=""
                    />
                  </label>
                </div>
              </td>
              <td>
                <div class="card-product">
                  <img
                    src="https://lavenderstudio.com.vn/wp-content/uploads/2017/03/chup-san-pham.jpg"
                  />
                  <div class="card-product-name">card-product-name</div>
                </div>
              </td>
              <td>
                <div class="card-price">5000000</div>
              </td>
              <td>
                <div class="card-quantity">
                  <button class="minus-btn" onclick="handleMinus(event)">
                    <i class="bi bi-dash-lg"></i>
                  </button>
                  <input type="text" name="amount" id="amount" value="1" />
                  <button class="plus-btn" onclick="handlePlus(event)">
                    <i class="bi bi-plus-lg"></i>
                  </button>
                </div>
              </td>
              <td><div class="card-totalmoney">Số tiền</div></td>
              <td>
                <div class="card-activity">
                  <a><i class="bi bi-trash3-fill"></i></a>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="card-contain-button">
                  <label for="product">
                    <input
                      type="checkbox"
                      id="product"
                      name="product"
                      value=""
                    />
                  </label>
                </div>
              </td>
              <td>
                <div class="card-product">
                  <img
                    src="https://lavenderstudio.com.vn/wp-content/uploads/2017/03/chup-san-pham.jpg"
                  />
                  <div class="card-product-name">card-product-name</div>
                </div>
              </td>
              <td>
                <div class="card-price">5000000</div>
              </td>
              <td>
                <div class="card-quantity">
                  <button class="minus-btn" onclick="handleMinus(event)">
                    <i class="bi bi-dash-lg"></i>
                  </button>
                  <input type="text" name="amount" id="amount" value="1" />
                  <button class="plus-btn" onclick="handlePlus(event)">
                    <i class="bi bi-plus-lg"></i>
                  </button>
                </div>
              </td>
              <td><div class="card-totalmoney">Số tiền</div></td>
              <td>
                <div class="card-activity">
                  <a><i class="bi bi-trash3-fill"></i></a>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="card-contain-button">
                  <label for="product">
                    <input
                      type="checkbox"
                      id="product"
                      name="product"
                      value=""
                    />
                  </label>
                </div>
              </td>
              <td>
                <div class="card-product">
                  <img
                    src="https://lavenderstudio.com.vn/wp-content/uploads/2017/03/chup-san-pham.jpg"
                  />
                  <div class="card-product-name">card-product-name</div>
                </div>
              </td>
              <td>
                <div class="card-price">5000000</div>
              </td>
              <td>
                <div class="card-quantity">
                  <button class="minus-btn" onclick="handleMinus(event)">
                    <i class="bi bi-dash-lg"></i>
                  </button>
                  <input type="text" name="amount" id="amount" value="1" />
                  <button class="plus-btn" onclick="handlePlus(event)">
                    <i class="bi bi-plus-lg"></i>
                  </button>
                </div>
              </td>
              <td><div class="card-totalmoney">Số tiền</div></td>
              <td>
                <div class="card-activity">
                  <a><i class="bi bi-trash3-fill"></i></a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
      <section class="card-total-price">
        <div class="cart-summary">
          <h2>Cart Summary:</h2>
          <h1>0VND</h1>
        </div>
        <button>Thanh Toán</button>
      </section>
    </main>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init({
        offset: 1,
      });
    </script>
    <script>
      let amountElement = document.getElementById("amount");
      let amount = parseInt(amountElement.value, 10);
      let maxQuantity = 100; // Lấy số lượng tối đa có sẵn từ cơ sở dữ liệu

      let render = (amount) => {
        amountElement.value = amount;
      };

      let handlePlus = (event) => {
        event.preventDefault();
        if (amount < maxQuantity) {
          amount++;
          render(amount);
        }
      };

      let handleMinus = (event) => {
        event.preventDefault();
        if (amount > 1) {
          amount--;
          render(amount);
        }
      };

      amountElement.addEventListener("input", () => {
        amount = parseInt(amountElement.value, 10);
        amount =
          isNaN(amount) || amount < 1 ? 1 : Math.min(amount, maxQuantity); // Đảm bảo amount không vượt quá maxQuantity
        render(amount);
      });

      function buy(id) {
        amount = parseInt(amountElement.value, 10);

        if (maxQuantity === 0) {
          alert(
            "Xin lỗi, sản phẩm này đã hết hàng. Vui lòng chọn sản phẩm khác."
          );
          return;
        }

        if (amount > maxQuantity) {
          alert(
            "Số lượng sản phẩm vượt quá số lượng có sẵn. Vui lòng chọn số lượng hợp lý."
          );
          return;
        }

        // document.f.action = "buy?id=" + id + "&num=" + amount;
        // document.f.submit();
      }
      function toggleCheckbox() {
        var allCheckbox = document.getElementById("all");
        allCheckbox.checked = !allCheckbox.checked;

        var checkboxes = document.querySelectorAll(
          'input[type="checkbox"][name="product"]'
        );
        checkboxes.forEach(function (checkbox) {
          checkbox.checked = allCheckbox.checked;
        });
      }

      function checkAll() {
        var allCheckbox = document.getElementById("all");
        var checkboxes = document.querySelectorAll(
          'input[type="checkbox"]:not(#xu)'
        );
        checkboxes.forEach(function (checkbox) {
          checkbox.checked = allCheckbox.checked;
        });
      }
    </script>
  </body>
</html>
